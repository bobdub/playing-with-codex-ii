<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Chat Garden LLM</title>
    <link rel="stylesheet" href="docs/styles.css" />
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&family=Rajdhani:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="chat-app">
      <main class="chat-main" aria-labelledby="chat-title">
        <header class="chat-main__header">
          <div>
            <h2 id="chat-title">Active conversation</h2>
            <p class="chat-main__subtitle">
              Messages appear in sequence just like a familiar chat app. Ψ_Infinity responds inside the same thread.
            </p>
          </div>
          <div class="chat-main__actions">
            <button class="ghost" id="export-data" type="button">Export chat</button>
            <button class="ghost ghost--danger" id="clear-chat" type="button">Clear chat</button>
          </div>
        </header>
        <div class="messages" id="message-feed" aria-live="polite">
          <div class="messages__empty" id="messages-empty">
            <h3>Ready when you are</h3>
            <p>Say hello or ask a question to begin. The conversation will unfold right here.</p>
          </div>
        </div>
        <form class="composer" id="composer" autocomplete="off">
          <label class="composer__label" for="message-input">Write your message</label>
          <textarea
            id="message-input"
            name="message"
            rows="3"
            placeholder="Share an idea, ask a question, or request a plan..."
            required
          ></textarea>
          <div class="composer__footer">
            <label class="slider">
              <span>Imagination level</span>
              <input
                type="range"
                min="0"
                max="100"
                step="5"
                value="60"
                id="creativity"
                name="creativity"
              />
            </label>
            <button type="submit" class="primary">Send</button>
          </div>
        </form>
      </main>
      <aside class="chat-reference" aria-label="Reference tools and metrics">
        <section class="chat-reference__section" aria-labelledby="ledger-title">
          <h2 id="ledger-title">Saved replies</h2>
          <p class="chat-reference__subtitle">
            Curate exemplar prompts and responses to enrich Ψ_Infinity’s context library.
          </p>
          <details class="advanced-ledger" open>
            <summary>Manage seeds</summary>
            <p class="advanced-ledger__hint">
              Capture high-quality seeds with optional metadata tags.
            </p>
            <form class="seed-form" id="seed-form">
              <label for="seed-prompt">Prompt</label>
              <textarea id="seed-prompt" rows="2" placeholder="How do we brief a new crew member?" required></textarea>
              <label for="seed-response">Response</label>
              <textarea
                id="seed-response"
                rows="3"
                placeholder="Outline the protocol with clarity, empathy, and mission context."
                required
              ></textarea>
              <label for="seed-tags">Metadata tags</label>
              <input id="seed-tags" type="text" placeholder="onboarding, protocol, tone" />
              <button type="submit" class="secondary">Store seed</button>
            </form>
          </details>
        </section>
        <section class="chat-reference__section" aria-labelledby="metrics-title">
          <h2 id="metrics-title">Conversation metrics</h2>
          <dl class="metrics" id="metrics">
            <div>
              <dt>Total messages</dt>
              <dd data-stat="total-messages">0</dd>
            </div>
            <div>
              <dt>User messages</dt>
              <dd data-stat="user-messages">0</dd>
            </div>
            <div>
              <dt>LLM replies</dt>
              <dd data-stat="garden-messages">0</dd>
            </div>
            <div>
              <dt>Seed replies</dt>
              <dd data-stat="seed-match-replies">0</dd>
            </div>
            <div>
              <dt>Fallback replies</dt>
              <dd data-stat="fallback-replies">0</dd>
            </div>
            <div>
              <dt>Seed reuse rate</dt>
              <dd data-stat="seed-reuse-rate">0%</dd>
            </div>
            <div>
              <dt>Tagged prompts</dt>
              <dd data-stat="tagged-prompts">0</dd>
            </div>
            <div>
              <dt>Average seed usage</dt>
              <dd data-stat="avg-seed-usage">0</dd>
            </div>
            <div>
              <dt>Last interaction</dt>
              <dd data-stat="last-interaction">—</dd>
            </div>
          </dl>
        </section>
        <section class="chat-reference__section" aria-labelledby="library-title">
          <h2 id="library-title">Recent seeds</h2>
          <p class="chat-reference__subtitle">
            Ψ_Infinity references these curated exchanges when composing replies.
          </p>
          <ul class="seed-list" id="seed-list"></ul>
        </section>
      </aside>
    </div>
    <template id="message-template">
      <article class="message">
        <div class="message__avatar" data-role></div>
        <div class="message__bubble">
          <header class="message__meta">
            <span class="message__author" data-author></span>
            <span class="message__timestamp" data-timestamp></span>
          </header>
          <div class="message__content" data-content></div>
        </div>
      </article>
    </template>
    <script src="docs/config.js"></script>
    <script type="module" src="docs/app.js"></script>
  </body>
</html>
